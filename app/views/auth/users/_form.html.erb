<div class='row'>
  <div class='col-md-4 offset-md-4'>
    <%= form_with(model: [ :auth, @user ], local: true) do |f|%>
      <% if @user.errors.any? %>
        <div class='alert alert-danger' role='alert'>
          <ul>
            <% @user.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
    <% end %>

    <%= form_with(model: [ :auth, @user ], local: true) do |f| %>
      <div class='form-group'>
        <%= f.label :nickname %>
        <%= f.text_field :nickname, autofocus: true, class: 'form-control' %>
      </div>
      <div class='form-group'>
        <%= f.label :email %>
        <%= f.email_field :email, autofocus: true, class: 'form-control' %>
      </div>
      <div class='form-group'>
        <%= f.label :password %>
        <%= f.password_field :password, autocomplete: "off", class: 'form-control' %>
      </div>
      <div class='form-group'>
        <%= f.label :password_confirmation %>
        <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control' %>
      </div>
      <div class='form-group'>
        <%= f.label :avatar %>
        <%= f.file_field :avatar, class: 'form-control' %>
      </div>
      <% if current_user %>
        <div class='form-group'>
          <%= f.label :current_password %>
          <%= f.password_field :current_password, autocomplete: "off", class: 'form-control' %>
        </div>
        <div class='actions'>
          <%= f.submit 'Save', class: 'btn btn-success btn-block' %>
        </div>
      <% else %>
        <div class='actions'>
          <%= f.submit 'Sign up', class: 'btn btn-success btn-block' %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
